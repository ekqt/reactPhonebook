{"version":3,"sources":["filter.js","personForm.js","person.js","services/persons.js","notification.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","className","value","onChange","placeholder","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","person","removePerson","class","name","id","number","onClick","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","destroy","url","delete","update","put","Notification","message","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setType","setMessage","useEffect","personsToShow","toLowerCase","includes","event","target","preventDefault","p","find","window","confirm","personObject","map","setTimeout","concat","catch","error","console","log","i","removePersonOf","ReactDOM","render","document","getElementById"],"mappings":"6KAUeA,EAVA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,mBACxB,OACE,qBAAKC,UAAU,QAAf,SACE,qBAAKA,UAAU,UAAf,SACE,uBAAOA,UAAU,QAAQC,MAAOH,EAAQI,SAAUH,EAAoBI,YAAY,uBCsB3EC,EA1BI,SAAC,GAA2E,IAAzEC,EAAwE,EAAxEA,QAASC,EAA+D,EAA/DA,QAASC,EAAsD,EAAtDA,UAAWC,EAA2C,EAA3CA,iBAAkBC,EAAyB,EAAzBA,mBACnE,OACE,sBAAMC,SAAUL,EAAhB,SACE,gCACE,sBAAKL,UAAU,QAAf,UACE,uBAAOA,UAAU,QAAjB,kBACA,qBAAKA,UAAU,UAAf,SACE,uBAAOA,UAAU,QAAQC,MAAOK,EAASJ,SAAUM,EAAkBL,YAAY,kBAGrF,sBAAKH,UAAU,QAAf,UACE,uBAAOA,UAAU,QAAjB,oBACA,qBAAKA,UAAU,UAAf,SACE,uBAAOA,UAAU,QAAQC,MAAOM,EAAWL,SAAUO,EAAoBN,YAAY,4BAGzF,qBAAKH,UAAU,QAAf,SACE,qBAAKA,UAAU,UAAf,SACE,wBAAQA,UAAU,qBAAqBW,KAAK,SAA5C,2BCUGC,EA5BA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACtB,OACI,qBAAKd,UAAU,YAAf,SACI,qBAAKA,UAAU,eAAf,SACI,sBAAKA,UAAU,QAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAKe,MAAM,YAAX,UACI,sBAAMA,MAAM,gBAAZ,SACI,mBAAGA,MAAM,kBAEb,sBAAsBf,UAAU,kBAAhC,SAAmDa,EAAOG,MAA/CH,EAAOI,OAEtB,sBAAKF,MAAM,YAAX,UACI,sBAAMA,MAAM,gBAAZ,SACI,mBAAGA,MAAM,mBAEb,sBAAMf,UAAU,mCAAhB,SAAoDa,EAAOK,eAGnE,qBAAKlB,UAAU,cAAf,SACI,wBAAQA,UAAU,2BAA2BmB,QAASL,EAAtD,sC,gBCnBlBM,EAAU,eAuBDC,EAFO,CAAEC,OAnBT,WAEX,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiBbC,OAdjB,SAAAC,GAEX,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAYLI,QATxB,SAAAC,GACZ,OAAOT,IAAMU,OAAOD,IAQyBE,OALlC,SAACF,EAAKH,GAEjB,OADgBN,IAAMY,IAAIH,EAAKH,GAChBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCR9BS,EAXM,SAAC,GAAuB,IAArBzB,EAAoB,EAApBA,KAAM0B,EAAc,EAAdA,QAC1B,OAAgB,OAAZA,EACO,KAGP,qBAAKrC,UAAWW,EAAhB,SACE0B,KC6IKC,EA1IH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOjC,EAAP,KAAgBoC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOhC,EAAP,KAAkBoC,EAAlB,KACA,EAA4BJ,mBAAS,IAArC,mBAAOzC,EAAP,KAAe8C,EAAf,KACA,EAAwBL,mBAAS,IAAjC,mBAAO5B,EAAP,KAAakC,EAAb,KACA,EAA8BN,mBAAS,MAAvC,mBAAOF,EAAP,KAAgBS,EAAhB,KAEAC,qBAAU,WACR1B,EACGC,SACAG,MAAK,SAAAC,GACJe,EAAWf,QAEd,IAEH,IAmEMsB,EAAiBlD,EAAmB0C,EAAQ1C,QAAO,SAAAe,GAAM,OAAIA,EAAOG,KAAKiC,cAAcC,SAASpD,EAAOmD,kBAA7ET,EA6BhC,OACI,qBAAKxC,UAAU,oBAAf,SACE,sBAAKA,UAAU,0BAAf,UAEE,iDAEA,cAAC,EAAD,CAAcW,KAAMA,EAAM0B,QAASA,IAEnC,cAAC,EAAD,CAAQvC,OAAQA,EAAQC,mBAzCL,SAACoD,GAC1BP,EAAUO,EAAMC,OAAOnD,UA0CjB,2CAEA,cAAC,EAAD,CAAYK,QAASA,EAASC,UAAWA,EAAWC,iBArDnC,SAAC2C,GACxBT,EAAWS,EAAMC,OAAOnD,QAoDsEQ,mBAjDrE,SAAC0C,GAC1BR,EAAaQ,EAAMC,OAAOnD,QAgD4GI,QA5GxH,SAAC8C,GACfA,EAAME,iBACN,IAAMC,EAAId,EAAQe,MAAK,SAAA1C,GAAM,OAAIA,EAAOG,KAAKiC,gBAAkB3C,EAAQ2C,iBACvE,GAAKK,GA6BE,GAAIE,OAAOC,QAAP,UAAkBnD,EAAlB,2EAAoG,CAC7G,IAAM0B,EAAG,uBAAmBsB,EAAErC,IACxByC,EAAe,CACnB1C,KAAMV,EACNY,OAAQX,GAEVc,EACGa,OAAOF,EAAK0B,GACZjC,MAAK,SAAAC,GACJe,EAAWD,EAAQmB,KAAI,SAAA9C,GAAM,OAAIA,EAAOI,KAAOqC,EAAErC,GAAKJ,EAASa,MAC/DgB,EAAW,IACXC,EAAa,IACbE,EAAQ,oCACRC,EAAW,YAAD,OACIpB,EAASV,KADb,MAGV4C,YAAW,WACTd,EAAW,QACV,cA/CD,CACN,IAAMY,EAAe,CACnB1C,KAAMV,EACNY,OAAQX,GAEVc,EACGO,OAAO8B,GACPjC,MAAK,SAAAC,GACJe,EAAWD,EAAQqB,OAAOnC,IAC1BgB,EAAW,IACXC,EAAa,IACbE,EAAQ,oCACRC,EAAW,UAAD,OACEpB,EAASV,KADX,MAGV4C,YAAW,WACTd,EAAW,QACV,SAEJgB,OAAM,SAAAC,GACLlB,EAAQ,mCACRmB,QAAQC,IAAIF,EAAMrC,UAClBoB,EAAW,UAAD,OACEiB,EAAMrC,SAASC,KAAKoC,QAEhCH,YAAW,WACTd,EAAW,QACV,aAgFH,yCAEEE,EAAcW,KAAI,SAAC9C,EAAQqD,GAAT,OAChB,cAAC,EAAD,CAAQrD,OAAQA,EAAgBC,aAAc,kBA5CnC,SAAAwC,GACrB,IAAMtB,EAAG,uBAAmBsB,EAAErC,IAC1BuC,OAAOC,QAAP,mCAA2CH,EAAEtC,KAA7C,OACFK,EACGU,QAAQC,GACRP,MAAK,WACJgB,EAAWD,EAAQ1C,QAAO,SAAAe,GAAM,OAAIA,EAAOI,KAAOqC,EAAErC,OACpD4B,EAAQ,oCACRC,EAAW,YAAD,OACIQ,EAAEtC,KADN,MAGV4C,YAAW,WACTd,EAAW,QACV,SAEJgB,OAAM,WACLjB,EAAQ,mCACRC,EAAW,YAAD,OACIQ,EAAEtC,KADN,sCAGV4C,YAAW,WACTd,EAAW,QACV,SAsBqDqB,CAAetD,KAAtCqD,Y,MCtI3CE,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.af1fafae.chunk.js","sourcesContent":["const Filter = ({ filter, handleFilterChange }) => {\n  return (\n    <div className=\"field\">\n      <div className=\"control\">\n        <input className=\"input\" value={filter} onChange={handleFilterChange} placeholder=\"Search for...\" />\n      </div>\n    </div>\n  )\n}\n\nexport default Filter","const PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        <div className=\"field\">\n          <label className=\"label\">Name</label>\n          <div className=\"control\">\n            <input className=\"input\" value={newName} onChange={handleNameChange} placeholder=\"John Doe\" />\n          </div>\n        </div>\n        <div className=\"field\">\n          <label className=\"label\">Number</label>\n          <div className=\"control\">\n            <input className=\"input\" value={newNumber} onChange={handleNumberChange} placeholder=\"(+420) 555-000-000\" />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <button className=\"button is-outlined\" type=\"submit\">Add</button>\n          </div>\n        </div>\n      </div>\n    </form >\n  )\n}\n\nexport default PersonForm","const Person = ({ person, removePerson }) => {\n    return (\n        <div className=\"card mb-3\">\n            <div className=\"card-content\">\n                <div className=\"media\">\n                    <div className=\"media-content\">\n                        <div class=\"icon-text\">\n                            <span class=\"icon is-small\">\n                                <i class=\"fas fa-user\"></i>\n                            </span>\n                            <span key={person.id} className=\"title is-5 pl-2\">{person.name}</span>\n                        </div>\n                        <div class=\"icon-text\">\n                            <span class=\"icon is-small\">\n                                <i class=\"fas fa-phone\"></i>\n                            </span>\n                            <span className=\"subtitle is-6 pl-2 has-text-grey\">{person.number}</span>\n                        </div>\n                    </div>\n                    <div className=\"media-right\">\n                        <button className=\"button is-small is-white\" onClick={removePerson}> ðŸ—‘ </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst destroy = url => {\n    return axios.delete(url)\n}\n\nconst update = (url, newObject) => {\n    const request = axios.put(url, newObject)\n    return request.then(response => response.data)\n}\n\nconst personService = { getAll, create, destroy, update }\n\nexport default personService","const Notification = ({ type, message }) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className={type} >\n        { message }\n        </div >\n    )\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\n\nimport Filter from './filter'\nimport PersonForm from './personForm'\nimport Person from './person'\nimport personService from './services/persons'\nimport Notification from './notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [type, setType] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const p = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n    if (!p) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNewName('')\n          setNewNumber('')\n          setType('notification is-primary is-light')\n          setMessage(\n            `Added '${response.name}'`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 2500)\n        })\n        .catch(error => {\n          setType('notification is-danger is-light')\n          console.log(error.response)\n          setMessage(\n            `Sorry! ${error.response.data.error}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 2500)\n        })\n    } else if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      const url = `/api/persons/${p.id}`\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .update(url, personObject)\n        .then(response => {\n          setPersons(persons.map(person => person.id !== p.id ? person : response))\n          setNewName('')\n          setNewNumber('')\n          setType('notification is-primary is-light')\n          setMessage(\n            `Updated '${response.name}'`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 2500)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const personsToShow = !filter ? persons : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const removePersonOf = p => {\n    const url = `/api/persons/${p.id}`\n    if (window.confirm(`Would you like to remove ${p.name}?`)) {\n      personService\n        .destroy(url)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== p.id))\n          setType('notification is-primary is-light')\n          setMessage(\n            `Deleted '${p.name}'`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 2500)\n        })\n        .catch(() => {\n          setType('notification is-danger is-light')\n          setMessage(\n            `Contact '${p.name}' was already removed from server`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 2500)\n        })\n    }\n  }\n\n  return (\n      <div className=\"columns py-5 px-4\">\n        <div className=\"column is-6 is-offset-3\">\n\n          <h1>React Phonebook</h1>\n\n          <Notification type={type} message={message} />\n\n          <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n          <h2>Add a new</h2>\n\n          <PersonForm newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addName={addName} />\n\n          <h2>Numbers</h2>\n          {\n            personsToShow.map((person, i) =>\n              <Person person={person} key={i} removePerson={() => removePersonOf(person)} />\n            )\n          }\n\n        </div>\n      </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}